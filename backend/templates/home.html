

{% extends 'base.html' %}
{% load static %}
{% block ads_top %}
<!-- Banner superior de prueba visual -->
<div class="container my-3">
    <div style="background:#eee;border:2px dashed #888;color:#444;text-align:center;padding:32px 0;font-size:1.5rem;">
        [Espacio reservado para banner 728x90]
    </div>
</div>
{% endblock %}
{% block ads_left %}
<!-- Banner lateral izquierdo de prueba -->
<div style="background:#e0e0e0;border:2px dashed #888;color:#444;text-align:center;padding:80px 0 80px 0;font-size:1rem;">
    [Banner lateral izquierdo 160x600]
</div>
{% endblock %}

{% block ads_right %}
<!-- Banner lateral derecho de prueba -->
<div style="background:#e0e0e0;border:2px dashed #888;color:#444;text-align:center;padding:80px 0 80px 0;font-size:1rem;">
    [Banner lateral derecho 160x600]
</div>
{% endblock %}

{% block ads_modal %}
<!-- Banner modal de prueba -->
<div class="ads-modal-backdrop" id="adsModal" style="display:none;">
    <div class="ads-modal-content">
        <button class="ads-modal-close" onclick="document.getElementById('adsModal').style.display='none'">&times;</button>
        <div style="font-size:1.3rem; font-weight:600; margin-bottom:12px;">¡Oferta especial!</div>
        <div style="margin-bottom:16px;">Este es un ejemplo de banner modal. Aquí puedes poner una promo, anuncio o publicidad personalizada.</div>
        <img src="https://via.placeholder.com/468x60?text=Banner+Modal" alt="Banner Modal" style="max-width:100%;height:auto;">
    </div>
</div>
<script>
    window.addEventListener('DOMContentLoaded', function() {
        setTimeout(function() {
            document.getElementById('adsModal').style.display = 'flex';
        }, 800); // Muestra el modal 0.8s después de cargar
    });
</script>
{% endblock %}
{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="container text-center">
        <div class="mb-4">
            <img src="{% static 'images/logo.png' %}" alt="DeRevés Logo" style="height: 120px; width: auto; margin-bottom: 20px;">
        </div>
        <h1>Jugá, Conectá y Competí</h1>
        <p class="lead">Todo desde una sola red</p>
        <div class="mt-4">
            <a href="{% url 'complejos:lista' %}" class="btn btn-primary btn-lg me-3">
                <span class="material-symbols-rounded">search</span>
                Buscar Complejos
            </a>
            {% if not user.is_authenticated %}
                <a href="{% url 'cuentas:registro' %}" class="btn btn-outline-light btn-lg">
                    <span class="material-symbols-rounded">person_add</span>
                    Registrarse
                </a>
            {% endif %}
        </div>
    </div>
</section>

<!-- Features Section -->
<div class="container mb-5">
    <div class="row g-4">
        <div class="col-md-4">
            <div class="card h-100 text-center p-4">
                <div class="card-body">
                    <span class="material-symbols-rounded" style="font-size: 3rem; color: var(--dereves-verde);">sports_tennis</span>
                    <h4 class="mt-3">Reserva Canchas</h4>
                    <p class="text-muted">Encuentra y reserva canchas de pádel, fútbol, tenis y más en tu ciudad.</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card h-100 text-center p-4">
                <div class="card-body">
                    <span class="material-symbols-rounded" style="font-size: 3rem; color: var(--dereves-azul);">emoji_events</span>
                    <h4 class="mt-3">Participa en Torneos</h4>
                    <p class="text-muted">Únete a torneos locales y compite con jugadores de tu nivel.</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card h-100 text-center p-4">
                <div class="card-body">
                    <span class="material-symbols-rounded" style="font-size: 3rem; color: var(--dereves-morado);">groups</span>
                    <h4 class="mt-3">Red Social Deportiva</h4>
                    <p class="text-muted">Conecta con otros jugadores, crea partidos y sigue tu progreso.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Complejos Destacados -->
<div class="container mb-5">
    <h2 class="mb-4">Complejos Destacados</h2>
    <div class="row g-4">
        {% for complejo in complejos_destacados %}
            <div class="col-md-4">
                <div class="card h-100">
                    {% if complejo.logo %}
                        <img src="{{ complejo.logo.url }}" class="card-img-top" alt="{{ complejo.nombre }}" style="height: 200px; object-fit: cover;">
                    {% else %}
                        <div class="card-img-top bg-secondary d-flex align-items-center justify-content-center" style="height: 200px;">
                            <span class="material-symbols-rounded text-white" style="font-size: 4rem;">sports_tennis</span>
                        </div>
                    {% endif %}
                    <div class="card-body">
                        <h5 class="card-title">{{ complejo.nombre }}</h5>
                        <p class="text-muted mb-2">
                            <span class="material-symbols-rounded" style="font-size: 1rem;">location_on</span>
                            {{ complejo.localidad }}
                        </p>
                        <p class="card-text text-truncate">{{ complejo.descripcion|default:"Complejo deportivo" }}</p>
                        <a href="{% url 'complejos:detalle' complejo.slug %}" class="btn btn-outline-primary btn-sm">
                            Ver Detalles
                        </a>
                    </div>
                </div>
            </div>
        {% empty %}
            <div class="col-12">
                <div class="alert alert-info">
                    <span class="material-symbols-rounded">info</span>
                    No hay complejos registrados aún. {% if user.tipo_usuario == 'DUENIO' %}<a href="{% url 'complejos:crear' %}">¡Crea el primero!</a>{% endif %}
                </div>
            </div>
        {% endfor %}
    </div>
</div>

<!-- CTA Section -->
{% if not user.is_authenticated %}
<div class="container mb-5">
    <div class="card text-center p-5" style="background: linear-gradient(135deg, var(--dereves-verde) 0%, var(--dereves-verde-suave) 100%);">
        <div class="card-body">
            <h2 class="mb-3">¿Sos dueño de un complejo deportivo?</h2>
            <p class="lead mb-4">Únete a DeRevés y digitaliza tu gestión. Maneja reservas, torneos y aumenta tu visibilidad.</p>
            <a href="{% url 'account_signup' %}" class="btn btn-dark btn-lg">
                Registrar mi Complejo
            </a>
        </div>
    </div>
</div>
{% endif %}
{% endblock %}
